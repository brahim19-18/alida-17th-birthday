<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alida's 17th Birthday!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #d23369;
            --secondary: #ff9ec6;
            --accent: #a78bfa;
            --light: #ffebf3;
            --dark: #5a2a44;
            --text: #4a2a3a;
            --glass-border: rgba(255, 255, 255, 0.2);
            --countup-color-1: #ff9ec6;
            --countup-color-2: #a78bfa;
            --countup-color-3: #ffd6e7;
            --countup-color-4: #ff85b8;
            --countup-color-5: #c2a6ff;
            --countup-color-6: #d23369;
            --countup-color-7: #ff6b9e;
            --countup-color-8: #b58aff;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #fff0f8, #f8f0ff);
            color: var(--text);
            text-align: center;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* Start Section Styles */
        .start-section {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.5s ease;
        }

        .start-content {
            text-align: center;
            padding: 30px;
            max-width: 500px;
            color: white;
        }

        .start-title {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .start-subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .start-button {
            background: white;
            color: var(--primary);
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
       
        /* Enhanced Countup Animation */
        .countup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }

        .countup-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .countup-content {
            text-align: center;
            max-width: 600px;
            padding: 20px;
        }

        .countup-number {
            font-size: 10rem;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            animation: pulse 1s infinite alternate;
            transition: color 0.5s ease;
        }

        .countup-message {
            font-size: 2rem;
            color: white;
            line-height: 1.4;
            margin-bottom: 30px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        /* Floating Balloons */
        .balloon {
            position: absolute;
            bottom: -100px;
            width: 60px;
            height: 70px;
            border-radius: 50%;
            z-index: -1;
            animation: float 15s infinite ease-in;
            opacity: 0.8;
        }
        
        .balloon:before {
            content: "";
            position: absolute;
            bottom: -15px;
            left: 50%;
            width: 2px;
            height: 40px;
            background: rgba(0,0,0,0.1);
            transform: translateX(-50%);
        }
        
        .balloon:nth-child(2n) {
            animation-duration: 18s;
            animation-delay: 2s;
        }
        
        .balloon:nth-child(3n) {
            animation-duration: 12s;
            animation-delay: 4s;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                bottom: -100px;
            }
            100% {
                transform: translateY(-120vh) rotate(10deg);
                bottom: 100vh;
            }
        }
        
        /* Sparkle effect */
        .sparkle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 10px #fff, 0 0 20px #ff9ec6;
            animation: sparkle 2s infinite;
            z-index: -1;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }
        
        .header {
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(210, 51, 105, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .header:before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            z-index: 1;
        }
        
        h1 {
            font-size: 3.5rem;
            margin: 20px 0;
            color: white;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
            position: relative;
            z-index: 2;
            animation: rainbow 5s infinite, floatTitle 3s infinite alternate;
        }
        
        @keyframes floatTitle {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }
        
        @keyframes rainbow {
            0% { color: #ff9ec6; }
            25% { color: #a78bfa; }
            50% { color: #ffd6e7; }
            75% { color: #ff9ec6; }
            100% { color: #a78bfa; }
        }
        
        .alida-photo {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 5px solid #ff9ec6;
            margin: 20px auto;
            display: block;
            object-fit: cover;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .age-counter {
            font-size: 1.4rem;
            background: rgba(0, 0, 0, 0.4);
            display: inline-block;
            padding: 10px 25px;
            border-radius: 50px;
            margin: 15px 0;
            font-weight: bold;
            letter-spacing: 1px;
            border: 1px solid var(--glass-border);
            color: white;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            text-align: left;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .section:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
        }
        
        h2 {
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h2 i {
            color: var(--accent);
        }
        
        .timeline {
            display: flex;
            overflow-x: auto;
            padding: 20px 0;
            gap: 20px;
            scrollbar-width: thin;
            scrollbar-color: var(--secondary) transparent;
        }
        
        .timeline::-webkit-scrollbar {
            height: 8px;
        }
        
        .timeline::-webkit-scrollbar-thumb {
            background: var(--secondary);
            border-radius: 4px;
        }
        
        .timeline-item {
            min-width: 280px;
            background: linear-gradient(135deg, #fff, #f8f0ff);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            border: 2px solid rgba(210, 51, 105, 0.1);
        }
        
        .timeline-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .timeline-item h3 {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .bingo-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .bingo-cell {
            background: linear-gradient(135deg, #ffd6e7, #ffc2dc);
            padding: 20px 10px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 500;
            min-height: 100px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .bingo-cell:hover {
            background: linear-gradient(135deg, #ff9ec6, #ff85b8);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .bingo-cell.selected {
            background: linear-gradient(135deg, var(--primary), #b52a5c);
            color: white;
            text-decoration: line-through;
            transform: scale(0.95);
        }
        
        .quiz-container {
            display: grid;
            gap: 25px;
        }
        
        .quiz-question {
            background: linear-gradient(135deg, rgba(255,214,231,0.3), rgba(255,198,220,0.3));
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 10px;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .quiz-option {
            background: rgba(255, 214, 231, 0.5);
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .quiz-option:hover {
            background: rgba(255, 158, 198, 0.5);
            border-color: var(--secondary);
        }
        
        .quiz-option.selected {
            background: linear-gradient(135deg, var(--primary), #b52a5c);
            color: white;
            border-color: var(--primary);
        }
        
        .roast {
            background: linear-gradient(135deg, rgba(255,214,231,0.3), rgba(255,198,220,0.3));
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 10px;
            font-style: italic;
            line-height: 1.8;
            position: relative;
        }
        
        .roast:before, .roast:after {
            content: """;
            font-size: 4rem;
            color: var(--secondary);
            position: absolute;
            opacity: 0.3;
        }
        
        .roast:before {
            top: 10px;
            left: 15px;
        }
        
        .roast:after {
            bottom: 10px;
            right: 15px;
            transform: rotate(180deg);
        }
        
        .interactive-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .interactive-button {
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .interactive-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .interactive-button:active {
            transform: translateY(0);
        }
        
        .footer {
            margin-top: 40px;
            font-size: 0.9rem;
            color: #999;
            padding: 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 15px;
        }
        
        .countdown {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
            padding: 20px;
            background: rgba(255,255,255,0.7);
            border-radius: 15px;
            margin: 20px auto;
            max-width: 700px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
.countdown-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    max-width: 400px;
    margin: 20px auto;
}

.countdown-item {
    background: rgba(255, 255, 255, 0.7);
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    border: 1px solid rgba(210, 51, 105, 0.1);
    text-align: center;
}

.countdown-number {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--primary);
    margin-bottom: 5px;
}

.countdown-label {
    font-size: 1rem;
    color: var(--text);
    text-transform: uppercase;
    letter-spacing: 1px;
}
        
        .music-player {
            margin: 20px 0;
            background: rgba(255,255,255,0.7);
            padding: 20px;
            border-radius: 15px;
        }
        
        .now-playing {
            font-style: italic;
            margin-top: 10px;
            color: var(--primary);
        }
        
        #currentSong {
            font-weight: bold;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        #interactiveResult {
            min-height: 200px;
            margin-top: 20px;
            background: rgba(255,255,255,0.7);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .dance-option {
            background: linear-gradient(135deg, #ffd6e7, #ffc2dc);
            padding: 15px;
            border-radius: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dance-option:hover {
            background: linear-gradient(135deg, #ff9ec6, #ff85b8);
            transform: translateY(-3px);
        }
        
        .dance-option.selected {
            background: linear-gradient(135deg, var(--primary), #b52a5c);
            color: white;
        }
                
        /* Gift Button Styles */
        .gift-button-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 235, 243, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        
        .gift-button {
            position: relative;
            background-color: #d23369;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.5em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: none;
            border: 3px solid transparent;
            animation: border-glow 2s infinite alternate;
        }

        @keyframes border-glow {
            0% {
                border-color: rgba(255, 158, 198, 0.7);
                box-shadow: 0 0 10px rgba(255, 158, 198, 0.7), 
                           inset 0 0 10px rgba(255, 158, 198, 0.7);
            }
            100% {
                border-color: rgba(210, 51, 105, 0.9);
                box-shadow: 0 0 25px rgba(210, 51, 105, 0.9), 
                          inset 0 0 15px rgba(210, 51, 105, 0.9);
            }
        }

        .gift-button:hover {
            transform: scale(1.05);
            background-color: #ff9ec6;
        }

        .gift-message {
            font-size: 1.5em;
            margin-top: 20px;
            color: #d23369;
        }

        /* Video styles */
        .video-container {
            width: 200px;
            height: 355px;
            margin: 20px auto;
            border-radius: 15px;
            overflow: hidden;
            border: 5px solid #ff9ec6;
        }
        
        .video-container video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Multiplayer Game Styles */
        .multiplayer-game {
            display: block;
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .game-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .game-id-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .game-id-input input {
            flex: 1;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ff9ec6;
        }

        .game-id-input button {
            background-color: #ff9ec6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        .game-scores {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .score-display {
            background-color: #ffd6e7;
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .progress-display {
            background-color: #a78bfa;
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
        }

        .game-question {
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .game-answer-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .game-answer-input input {
            flex: 1;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ff9ec6;
        }

        .game-answer-input button {
            background-color: #a78bfa;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        .answers-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .player-answer {
            flex: 1;
            background-color: #ffebf3;
            padding: 15px;
            border-radius: 10px;
            min-height: 100px;
        }

        .player-label {
            font-weight: bold;
            color: #d23369;
            margin-bottom: 10px;
        }

        .waiting-message {
            text-align: center;
            font-style: italic;
            color: #999;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .bingo-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .interactive-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .bingo-grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            .section {
                padding: 20px 15px;
            }
            
            .countup-number {
                font-size: 7rem;
            }
            
            .countup-message {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Balloons -->
    <div class="balloon" style="left: 10%; background: #ff9ec6;"></div>
    <div class="balloon" style="left: 20%; background: #a78bfa; animation-delay: 1s;"></div>
    <div class="balloon" style="left: 30%; background: #ffd6e7; animation-delay: 3s;"></div>
    <div class="balloon" style="left: 70%; background: #ff85b8; animation-delay: 2s;"></div>
    <div class="balloon" style="left: 85%; background: #c2a6ff; animation-delay: 4s;"></div>
    
    <!-- Sparkles -->
    <div class="sparkle" style="top: 20%; left: 15%; animation-delay: 0.2s;"></div>
    <div class="sparkle" style="top: 40%; left: 80%; animation-delay: 0.8s;"></div>
    <div class="sparkle" style="top: 60%; left: 45%; animation-delay: 1.5s;"></div>
    <div class="sparkle" style="top: 80%; left: 25%; animation-delay: 0.5s;"></div>
    <div class="sparkle" style="top: 30%; left: 65%; animation-delay: 1.2s;"></div>
    
        <!-- Start Section -->
    <div class="start-section" id="startSection">
        <div class="start-content">
            <h1 class="start-title">Alida's 17th Birthday!</h1>
            <p class="start-subtitle">A magical celebration for an extraordinary person</p>
            <button class="start-button" id="startButton">
                <i class="fas fa-gift"></i> Begin Celebration
            </button>
        </div>
    </div>
    
    <!-- Countup Overlay -->    
    <div id="countupOverlay" class="countup-overlay" style="display: none;">
        <div class="countup-number">1</div>
        <div class="countup-message">Get ready for the celebration!</div>
    </div>
    
    <div id="mainContent" class="main-content">
        <div class="container">
            <div class="header">
                <h1>üéâ Alida's 17th Birthday! üéâ</h1>
                <img src="images/alida1.jpg" alt="Alida" class="alida-photo">
                <div class="age-counter">17 years of learning and progress!</div>
                <p>Welcome to the most official (and slightly chaotic) celebration of Alida's existence!</p>
            </div>
            
            <div class="section">
                <h2><i class="fas fa-music"></i> Bubble Sound (feat. Fleekman)</h2>
                <div class="music-player">
                    <audio id="bubbleSound" controls style="width: 100%">
                        <source src="audio/bubble-sound.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                    <p class="now-playing">Alida's favorite song</p>
                </div>
            </div>
            
<div class="section">
    <h2><i class="fas fa-hourglass-half"></i> Alida's Life Timer</h2>
    <p>Time since Alida's amazing adventure began on August 6, 2008:</p>
    
    <div class="countdown-grid">
        <div class="countdown-item">
            <div class="countdown-number" id="countup-days">--</div>
            <div class="countdown-label">Days</div>
        </div>
        <div class="countdown-item">
            <div class="countdown-number" id="countup-hours">--</div>
            <div class="countdown-label">Hours</div>
        </div>
        <div class="countdown-item">
            <div class="countdown-number" id="countup-minutes">--</div>
            <div class="countdown-label">Minutes</div>
        </div>
        <div class="countdown-item">
            <div class="countdown-number" id="countup-seconds">--</div>
            <div class="countdown-label">Seconds</div>
        </div>
    </div>
</div>
            
            <div class="section">
                <h2><i class="fas fa-history"></i> The Alida Timeline</h2>
                <p>From early childhood to becoming a dreamy girl!</p>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <h3><i class="fas fa-baby"></i> Age 5</h3>
                        <p>First The appearance of the most naughty Uzbek girl.</p>
                    </div>
                    <div class="timeline-item">
                        <h3><i class="fas fa-book"></i> Age 10</h3>
                        <p>I think this is the beginning of the emergence of the smartest Uzbek girl.</p>
                    </div>
                    <div class="timeline-item">
                        <h3><i class="fas fa-star"></i> Age 13</h3>
                        <p>The beginning of puberty and the brightness in the sky of Tashkent.</p>
                    </div>
                    <div class="timeline-item">
                        <h3><i class="fas fa-heart"></i> Age 16</h3>
                        <p>I met the most beautiful Uzbek girl ever, who has the features of a Chinese girl.</p>
                    </div>
                    <div class="timeline-item">
                        <h3><i class="fas fa-crown"></i> Age 17</h3>
                        <p>The stage of stability and following the mind to a better and bright future.</p>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2><i class="fas fa-dice"></i> Birthday Bingo!</h2>
                <p>Will Alida do these things today? Mark them as they happen!</p>
                
                <div class="bingo-grid">
                    <div class="bingo-cell">Say "I don't feel 17" 3+ times</div>
                    <div class="bingo-cell">Check who wished you a happy birthday</div>
                    <div class="bingo-cell">holding flowers in your hands</div>
                    <div class="bingo-cell">Make a birthday wish</div>
                    <div class="bingo-cell">FREE SPACE</div>
                    <div class="bingo-cell">Deny that you are not a Chinese girl</div>
                    <div class="bingo-cell">Say "A famous quote by Alida!"</div>
                    <div class="bingo-cell">going for a walk</div>
                    <div class="bingo-cell">To wonder what your future holds for you</div>
                </div>
            </div>
            
            <div class="section">
                <h2><i class="fas fa-question-circle"></i> How Well Do You Know Alida?</h2>
                <p>A totally serious and not-at-all-made-up quiz</p>
                
                <div class="quiz-question">
                    <h3>1. Alida's real age is:</h3>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="1">A) 17</div>
                        <div class="quiz-option" data-question="1">B) 17 going on 7</div>
                        <div class="quiz-option" data-question="1">C) Ageless queen</div>
                        <div class="quiz-option" data-question="1">D) Old enough to know better, young enough to do it anyway</div>
                    </div>
                </div>
                
                <div class="quiz-question">
                    <h3>2. Alida's spirit animal is:</h3>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="2">A) Miraculous Ladybug</div>
                        <div class="quiz-option" data-question="2">B) Winnie the pooth</div>
                        <div class="quiz-option" data-question="2">C) Pretty Kitty</div>
                        <div class="quiz-option" data-question="2">D) All of the above</div>
                    </div>
                </div>
                
                <div class="quiz-question">
                    <h3>3. Her ideal birthday gift?</h3>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="3">A) Money (duh)</div>
                        <div class="quiz-option" data-question="3">B) Somethiong you asked your parents to buy for you</div>
                        <div class="quiz-option" data-question="3">C) Meeting with BTS especilly V</div>
                        <div class="quiz-option" data-question="3">D) Travel to a place you want</div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2><i class="fas fa-user-astronaut"></i> Space Friendo</h2>
                <p>My Uzbek friend</p>
                
                <div class="roast">
                    <p>All the best on your special day, my friend.<p><p>I hope this day brings you immense happiness, joy, and fun, and that nothing ruins your mood on this special occasion of yours.<p><p>I wanted to tell you, on this occasion, that you have always been a dear friend to me and a meaningful presence in my life. You  are a special person who entered my life, and I don't think it's just me who feels that way everyone lucky enough to share a day with you must feel the same. With your captivating, wise, and elegant personality, you truly found a place in my heart.<p><p>I hope you always hold on to that unique personality of yours, and that you shine in your future, reach your dreams and ambitions, and always be proud of being Alida.<p>
<p>I know we don't talk anymore, but I will still wish you the best.<p>
                                                                       <p>Friendo üëΩ</p>
                </div>
            </div>

            <!-- Multiplayer Game Section -->
            <div class="section multiplayer-game" id="multiplayerGame">
                <h2><i class="fas fa-users"></i> Alida-ology</h2>
                <p>Challenge a friend to answer fun questions about Alida!</p>
                
                <div class="game-container" id="gameSetup">
                    <div class="game-id-input">
                        <input type="text" id="gameIdInput" placeholder="Enter game ID (e.g., ALIDA123)">
                        <button id="joinGameBtn">Join Game</button>
                    </div>
                    <div id="joinStatus" class="join-status"></div>
                    <p>Or create a new game:</p>
                    <button id="createGameBtn" class="interactive-button">Create New Game</button>
                </div>
                
                <div class="game-container" id="gamePlay" style="display: none;">
                    <div class="game-scores">
                        <div class="score-display" id="scoreDisplay">Score: 0</div>
                        <div class="progress-display" id="progressDisplay">Question 1 of 71</div>
                    </div>
                    
                    <div class="game-question" id="currentQuestion"></div>
                    
                    <div class="game-answer-input">
                        <input type="text" id="playerAnswer" placeholder="Your answer...">
                        <button id="submitAnswerBtn">Done</button>
                    </div>
                    
                    <div class="answers-container">
                        <div class="player-answer">
                            <div class="player-label">Your Answer:</div>
                            <div id="player1Answer" class="waiting-message">Waiting for your answer...</div>
                        </div>
                        <div class="player-answer">
                            <div class="player-label">Friend's Answer:</div>
                            <div id="player2Answer" class="waiting-message">Waiting for friend to answer...</div>
                        </div>
                    </div>
                    
                    <button id="nextQuestionBtn" class="interactive-button" style="display: none;">Next Question</button>
                </div>
            </div>
            
            <div class="section">
                <h2><i class="fas fa-play-circle"></i> Interactive Fun</h2>
                
                <div class="interactive-buttons">
                    <button class="interactive-button" id="ageUpBtn"><i class="fas fa-arrow-up"></i> Age-Up Machine</button>
                    <button class="interactive-button" id="danceBtn"><i class="fas fa-music"></i> Birthday Dance-Off</button>
                    <button class="interactive-button" id="complimentBtn"><i class="fas fa-comment"></i> Realistic Compliments</button>
                    <button class="interactive-button" id="videoBtn"><i class="fas fa-video"></i> The Art Of Messing You</button>
                </div>
                
                <div id="interactiveResult"></div>
            </div>
            
            <div class="section">
                <h2><i class="fas fa-star"></i> Your dreams will come true</h2>
                <p id="finalCountdown">There is not much left for your journey to begin. I wish you great happiness and may God bless you in that.<p><p>"Stay safe, happy, thrive, shine, and know you're always in my heart üíñ"</p>
            </div>
            
            <div class="footer">
                <p>Made with 1% Mind, 99% Heart. Happy 17th, Alida! üéÇ</p>
            </div>
        </div>
    </div>

    <!-- Audio elements -->
    <audio id="countupSound" style="display:none">
        <source src="audio/countup-sound.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="birthdayMusic" style="display:none">
        <source src="audio/birthday-music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Dance songs -->
    <audio id="rockyourbodySound" style="display:none">
        <source src="audio/rockyourbody-sound.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="wakawakaSound" style="display:none">
        <source src="audio/wakawaka-sound.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="damaungurSound" style="display:none">
        <source src="audio/damaungur-sound.mp3" type="audio/mpeg">
    </audio>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAvhW4Am487NKNlHXkwU1nYNGMCQiLtDCw",
            authDomain: "alida-birthday-30a77.firebaseapp.com",
            databaseURL: "https://alida-birthday-30a77-default-rtdb.firebaseio.com",
            projectId: "alida-birthday-30a77",
            storageBucket: "alida-birthday-30a77.firebasestorage.app",
            messagingSenderId: "1075667399211",
            appId: "1:1075667399211:web:b09dd08352f13b6c71f06e",
            measurementId: "G-9MPJY5TQ9B"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Game variables
        let gameId = '';
        let playerNumber = 0;
        let player1Score = 0;
        let player2Score = 0;
        let questionsAnswered = 0;
        let currentQuestionIndex = 0;
        
        // Game elements
        const gameSetupDiv = document.getElementById('gameSetup');
        const gamePlayDiv = document.getElementById('gamePlay');
        const gameIdInput = document.getElementById('gameIdInput');
        const joinGameBtn = document.getElementById('joinGameBtn');
        const createGameBtn = document.getElementById('createGameBtn');
        const currentQuestionDiv = document.getElementById('currentQuestion');
        const playerAnswerInput = document.getElementById('playerAnswer');
        const submitAnswerBtn = document.getElementById('submitAnswerBtn');
        const nextQuestionBtn = document.getElementById('nextQuestionBtn');
        const player1AnswerDiv = document.getElementById('player1Answer');
        const player2AnswerDiv = document.getElementById('player2Answer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const progressDisplay = document.getElementById('progressDisplay');
        
        // Questions for the game
        const questions = [
            "What is Alida's favorite childhood TV show or cartoon?",
            "What is Alida's favorite music artist?",
            "What is Alida's favorite type of cuisine?",
            "What is Alida's favorite animal?",
            "What is Alida's favorite color?",
            "What is Alida's favorite song?",
            "What's Alida's favorite sport?",
            "What is Alida's favorite type of movies?",
            "What is Alida's favorite drink?",
            "What is Alida's all-time favorite movie?",
            "What's Alida's favorite thing to do on weekends?",
            "What is Alida's favorite book or genre?",
            "What's Alida's favorite subject in school?",
            "What's Alida's favorite type of weather?",
            "What's Alida's favorite way to relax?",
            "What's Alida's favorite childhood toy?",
            "What's Alida's favorite type of music?",
            "What's Alida's favorite board game?",
            "What's Alida's favorite ice cream flavor?",
            "What's Alida's favorite place to hang out?",
            "What's Alida's favorite thing about herself?",
            "What is the best season for Alida?",
            "What is Alida's zodiac sign, and does she believe in astrology?",
            "What is Alida's biggest fear?",
            "What is Alida's proudest achievement?",
            "What is Alida's most embarrassing childhood story?",
            "What is Alida's most nostalgic memory?",
            "What is Alida's most controversial opinion?",
            "What is Alida's most used app on her phone?",
            "What is Alida's most random talent?",
            "What is the most common phrase used by Alida?",
            "What is the most thoughtful thing Alida has done for a friend?",
            "What is the thing in the world that you are similar to Alida?",
            "Who is the most famous person you like Alida?",
            "What is Alida's biggest pet peeve?",
            "What is Alida's weirdest habit?",
            "What is Alida's love language?",
            "What is Alida's friendship red flag?",
            "What is Alida's idea of a perfect friend hangout?",
            "What was Alida's dream job as a kid?",
            "What's Alida's guilty pleasure snack?",
            "What is something Alida is secretly really good at?",
            "What is something that always makes Alida laugh?",
            "What kind of fashion style does Alida usually wear?",
            "What emoji does Alida use way too much?",
            "What emoji best represents Alida?",
            "What ridiculous nickname did Alida have as a kid that she hopes no one remembers?",
            "Who is the person Alida loves the most?",
            "Who is Alida's celebrity crush?",
            "If Alida could have dinner with anyone, who would it be?",
            "If Alida could swap lives with anyone for a day, who would it be?",
            "If Alida could be any fictional character for a day, who would she be?",
            "If Alida could live in any fictional world, where would she choose?",
            "If Alida could time travel, where/when would she go?",
            "If Alida could go to karaoke, would you go and what song would you sing?",
            "If Alida was a kitchen appliance, what would she be and why?",
            "If Alida were a superhero, What will be her name and what would her power be?",
            "What would be Alida's superhero name?",
            "If Alida had a talk show, what would it be called?",
            "If Alida was a weather phenomenon, what would she be?",
            "If Alida were stuck on a deserted island, what 3 things would she bring?",
            "What fictional character is most like Alida?",
            "What's the most Alida-like animal",
            "What's Alida's spirit food?",
            "What would Alida's autobiography be titled?",
            "What's the weirdest thing Alida has ever researched on web?",
            "Which country would Alida like to visit?",
            "How does Alida usually cheer up her friends?",
            "Is Alida more of a morning person or night owl?",
            "Does Alida prefer sweet or savory snacks?",
            "What were Alida's last words to you in chat?",
            "What is Alida's hobby?",
            "What's Alida's biggest dream?",
            "Did you like the questions"
        ];
        
        const totalQuestions = questions.length;

       // Start Button Functionality
        document.getElementById('startButton').addEventListener('click', function() {
            document.getElementById('startSection').style.display = 'none';
            startCountup();
        });
    
function startCountup() {
    const overlay = document.getElementById('countupOverlay');
    overlay.style.display = 'flex';
    overlay.classList.add('active');

    let count = 1;
    const countupElement = document.querySelector('.countup-number');
    const countupAudio = document.getElementById('countupSound');
    const birthdayMusic = document.getElementById('birthdayMusic');
    
    // Array of color classes to cycle through
    const colorClasses = [
        'countup-color-1', 'countup-color-2', 'countup-color-3',
        'countup-color-4', 'countup-color-5', 'countup-color-6',
        'countup-color-7', 'countup-color-8'
    ];
    
    countupAudio.play().catch(e => console.log("Countup audio play failed:", e));
    birthdayMusic.loop = true;
    birthdayMusic.play().catch(e => console.log("Birthday music play failed:", e));
    
    const timer = setInterval(() => {
        count++;
        countupElement.textContent = count;
        
        // Change color with each number
        const colorIndex = (count - 1) % colorClasses.length;
        countupElement.style.color = `var(--countup-color-${colorIndex + 1})`;
        
        if (count >= 17) {
            clearInterval(timer);
            setTimeout(() => {
                document.getElementById('countupOverlay').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                initializeMainPage();
            }, 1724);
        }
    }, 1724);
}

        // Initialize the main page after countup
        function initializeMainPage() {
            const audio = document.getElementById('bubbleSound');
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    const playButton = document.createElement('button');
                    playButton.className = 'interactive-button';
                    playButton.textContent = 'Click to Play Music';
                    playButton.style.marginTop = '10px';
                    playButton.addEventListener('click', () => {
                        audio.play();
                        playButton.remove();
                    });
                    document.querySelector('.music-player').appendChild(playButton);
                });
            }
                    
            createConfetti();
            updateCountdown();
            setInterval(updateCountdown, 1000);
            updateFinalCountdown();
            setInterval(updateFinalCountdown, 86400000);
            
            // Initialize memory game
            initMemoryGame();
        }

        // Quiz functionality
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                const questionNum = this.getAttribute('data-question');
                document.querySelectorAll(`.quiz-option[data-question="${questionNum}"]`).forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });

        // Bingo functionality
        document.querySelectorAll('.bingo-cell').forEach(cell => {
            cell.addEventListener('click', () => {
                cell.classList.toggle('selected');
                if (cell.classList.contains('selected')) {
                    createConfetti();
                }
            });
        });
        
        // Interactive buttons
        document.getElementById('ageUpBtn').addEventListener('click', () => {
            document.getElementById('interactiveResult').innerHTML = `
                <h3>Future Alida at 20:</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                    <div style="background: rgba(255,214,231,0.5); padding: 15px; border-radius: 10px;">
                        <i class="fas fa-graduation-cap" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                        <p>Graduating with honors</p>
                    </div>
                    <div style="background: rgba(255,214,231,0.5); padding: 15px; border-radius: 10px;">
                        <i class="fas fa-globe-asia" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                        <p>Traveling the world</p>
                    </div>
                    <div style="background: rgba(255,214,231,0.5); padding: 15px; border-radius: 10px;">
                        <i class="fas fa-star" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                        <p>Becoming a superstar</p>
                    </div>
                    <div style="background: rgba(255,214,231,0.5); padding: 15px; border-radius: 10px;">
                        <i class="fas fa-heart" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                        <p>Surrounded by love</p>
                    </div>
                </div>
            `;
            createConfetti();
        });
        
        document.getElementById('danceBtn').addEventListener('click', () => {
            document.getElementById('interactiveResult').innerHTML = `
                <h3>Choose a Dance Move:</h3>
                <div class="dance-option" data-song="rockyourbody">
                    <i class="fas fa-user-friends"></i> üëØ‚Äç‚ôÄÔ∏è Rock Your Body ‚Üí With your partner
                </div>
                <div class="dance-option" data-song="wakawaka">
                    <i class="fas fa-child"></i> üíÉüèª Waka Waka ‚Üí Move gracefully
                </div>
                <div class="dance-option" data-song="damaungur">
                    <i class="fas fa-heart"></i> üå∫ Pretty Little Baby ‚Üí I'm so in love with you
                </div>
                <div id="danceStatus" style="margin-top:20px; font-size: 1.2rem;"></div>
            `;
            
            document.querySelectorAll('.dance-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.dance-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    const statusElement = document.getElementById('danceStatus');
                    const songType = this.getAttribute('data-song');
                    
                    document.getElementById('rockyourbodySound').pause();
                    document.getElementById('wakawakaSound').pause();
                    document.getElementById('damaungurSound').pause();
                    
                    let song, danceName;
                    switch(songType) {
                        case 'rockyourbody':
                            song = document.getElementById('rockyourbodySound');
                            danceName = "Rock your body"; break;
                        case 'wakawaka':
                            song = document.getElementById('wakawakaSound');
                            danceName = "Waka Waka"; break;
                        case 'damaungur':
                            song = document.getElementById('damaungurSound');
                            danceName = "Pretty little baby"; break;
                    }
                    
                    song.currentTime = 0;
                    song.play()
                        .then(() => {
                            statusElement.innerHTML = `Now playing: <strong>${danceName}</strong> <i class="fas fa-music"></i>`;
                            createConfetti();
                        })
                        .catch(e => {
                            statusElement.innerHTML = `Couldn't play ${danceName} song: ${e.message}`;
                        });
                });
            });
        });
        
        document.getElementById('complimentBtn').addEventListener('click', () => {
            const compliments = [
                "You're... uh... not Chinese!",
                "Your hair looks nice today!",
                "You're pretty... I'm sure.",
                "You're the moon... we know that!",
                "You have the rare gift of making everyone feel special!",
                "The most beautiful Uzbek girl!",
                "My friend... despite the distance!",
                "I love... your smile!",
                "Your eyes sparkle brighter than the stars!",
                "Your intelligence is sometimes deceiving!",
                "Your voice... I heard it once... it suits you!",
                "You're not just beautiful outside, but inside as well!"
            ];
            const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
            
            document.getElementById('interactiveResult').innerHTML = `
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <i class="fas fa-gift" style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;"></i>
                    <h3>A Compliment Just For You:</h3>
                    <p style="font-size: 1.4rem; text-align: center; margin-top: 15px;">${randomCompliment}</p>
                </div>
            `;
            createConfetti();
        });

        // Video button functionality
        document.getElementById('videoBtn').addEventListener('click', () => {
            document.getElementById('interactiveResult').innerHTML = `
                <h3>Every message feels like a risk... so</h3>
                <div class="video-container">
                    <video controls autoplay>
                        <source src="videos/special-message.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <p style="margin-top: 15px; font-style: italic;">"You mean the world to me"</p>
            `;
            createConfetti();
        });

function updateCountup() {
    const birthday = new Date(2008, 7, 6); // August 6, 2008 (month is 0-indexed)
    const now = new Date();
    const diff = now - birthday;
    
    // Calculate time units
    const totalDays = Math.floor(diff / (1000 * 60 * 60 * 24));
    const years = Math.floor(totalDays / 365);
    const days = totalDays % 365;
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
    
    // Update the display
    document.getElementById('countup-days').textContent = totalDays.toString();
    document.getElementById('countup-hours').textContent = hours.toString().padStart(2, '0');
    document.getElementById('countup-minutes').textContent = minutes.toString().padStart(2, '0');
    document.getElementById('countup-seconds').textContent = seconds.toString().padStart(2, '0');
    
    // Optional: Display years separately if you want
    // document.getElementById('countup-years').textContent = years;
}

// Initialize and update every second
updateCountup();
setInterval(updateCountup, 1000);

        function createConfetti() {
            const colors = ['#ff9ec6', '#a78bfa', '#ffd6e7', '#ff85b8', '#c2a6ff'];
            const container = document.getElementById('interactiveResult');
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = '50%';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-20px';
                confetti.style.opacity = '0.8';
                confetti.style.zIndex = '100';
                
                container.appendChild(confetti);
                
                // Animation
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${Math.random() * 300 + 100}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 2000,
                    easing: 'cubic-bezier(0,0.9,0.57,1)'
                });
                
                animation.onfinish = () => confetti.remove();
            }
        }

        // Multiplayer Game Functions
        function generateGameId() {
            return 'ALIDA' + Math.floor(1000 + Math.random() * 9000);
        }

        function createNewGame() {
            gameId = generateGameId();
            playerNumber = 1;
            player1Score = 0;
            player2Score = 0;
            questionsAnswered = 0;
            
            const gameRef = database.ref('games/' + gameId);
            gameRef.set({
                player1: { answer: '', answered: false },
                player2: { answer: '', answered: false },
                currentQuestion: 0,
                gameStarted: true
            });
            
            setupGameListeners(gameRef);
            gameSetupDiv.style.display = 'none';
            gamePlayDiv.style.display = 'block';
            showQuestion(0);
            updateScoreDisplay();
            
            alert(`Game created! Share this ID with a friend: ${gameId}`);
        }

        function joinExistingGame() {
            gameId = gameIdInput.value.trim();
            if (!gameId) {
                alert('Please enter a game ID');
                return;
            }
            
            playerNumber = 2;
            player1Score = 0;
            player2Score = 0;
            questionsAnswered = 0;
            
            const gameRef = database.ref('games/' + gameId);
            gameRef.once('value').then((snapshot) => {
                const gameData = snapshot.val();
                
                if (!gameData) {
                    alert('Game not found. Please check the ID.');
                    return;
                }
                
                setupGameListeners(gameRef);
                gameSetupDiv.style.display = 'none';
                gamePlayDiv.style.display = 'block';
                showQuestion(gameData.currentQuestion || 0);
                updateScoreDisplay();
                
                alert(`Joined game ${gameId}!`);
            });
        }

        function setupGameListeners(gameRef) {
            gameRef.on('value', (snapshot) => {
                const gameData = snapshot.val();
                if (!gameData) return;
                
                if (gameData.currentQuestion !== currentQuestionIndex) {
                    currentQuestionIndex = gameData.currentQuestion;
                    showQuestion(currentQuestionIndex);
                }
                
                updateAnswersDisplay(gameData);
            });
        }

        function showQuestion(index) {
            if (index >= questions.length) {
                currentQuestionDiv.textContent = "Game Over! Thanks for playing!";
                playerAnswerInput.style.display = 'none';
                submitAnswerBtn.style.display = 'none';
                nextQuestionBtn.style.display = 'none';
                
                // Show final scores
                const finalScore = playerNumber === 1 ? player1Score : player2Score;
                scoreDisplay.textContent = `Final Score: ${finalScore}`;
                progressDisplay.textContent = `Completed ${questionsAnswered} of ${totalQuestions}`;
                return;
            }
            
            currentQuestionIndex = index;
            currentQuestionDiv.textContent = questions[index];
            player1AnswerDiv.textContent = "Waiting for your answer...";
            player2AnswerDiv.textContent = "Waiting for friend to answer...";
            player1AnswerDiv.className = "waiting-message";
            player2AnswerDiv.className = "waiting-message";
            playerAnswerInput.value = '';
            playerAnswerInput.disabled = false;
            submitAnswerBtn.disabled = false;
            nextQuestionBtn.style.display = 'none';
            
            updateProgressDisplay();
        }

        function updateAnswersDisplay(gameData) {
            if (playerNumber === 1) {
                if (gameData.player1.answered) {
                    player1AnswerDiv.textContent = gameData.player1.answer || "(No answer)";
                    player1AnswerDiv.className = "";
                }
                if (gameData.player2.answered) {
                    player2AnswerDiv.textContent = gameData.player2.answer || "(No answer)";
                    player2AnswerDiv.className = "";
                }
            } else {
                if (gameData.player2.answered) {
                    player1AnswerDiv.textContent = gameData.player2.answer || "(No answer)";
                    player1AnswerDiv.className = "";
                }
                if (gameData.player1.answered) {
                    player2AnswerDiv.textContent = gameData.player1.answer || "(No answer)";
                    player2AnswerDiv.className = "";
                }
            }
            
            // Check if both answered to update scores
            if (gameData.player1.answered && gameData.player2.answered) {
                nextQuestionBtn.style.display = 'block';
                
                // Calculate similarity between answers
                const answer1 = (gameData.player1.answer || "").toLowerCase().trim();
                const answer2 = (gameData.player2.answer || "").toLowerCase().trim();
                
                // Only score if this is the first time both have answered this question
                if (!gameData.scored) {
                    questionsAnswered++;
                    
                    if (answer1 && answer2 && areAnswersSimilar(answer1, answer2)) {
                        if (playerNumber === 1) {
                            player1Score++;
                        } else {
                            player2Score++;
                        }
                        updateScoreDisplay();
                        
                        // Mark that we've scored this question
                        database.ref('games/' + gameId).update({
                            scored: true
                        });
                    }
                }
            }
            
            updateProgressDisplay();
        }

        function areAnswersSimilar(answer1, answer2) {
            // Simple check - answers are similar if they share at least one word
            const words1 = answer1.split(/\s+/);
            const words2 = answer2.split(/\s+/);
            
            return words1.some(word => words2.includes(word)) || 
                   words2.some(word => words1.includes(word));
        }

        function updateScoreDisplay() {
            const score = playerNumber === 1 ? player1Score : player2Score;
            scoreDisplay.textContent = `Score: ${score}`;
        }

        function updateProgressDisplay() {
            progressDisplay.textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
        }

        function submitAnswer() {
            const answer = playerAnswerInput.value.trim();
            if (!answer) {
                alert('Please enter an answer');
                return;
            }
            
            const gameRef = database.ref('games/' + gameId);
            const playerKey = playerNumber === 1 ? 'player1' : 'player2';
            
            gameRef.update({
                [playerKey]: {
                    answer: answer,
                    answered: true
                },
                scored: false // Reset scored flag when new answers are submitted
            });
            
            playerAnswerInput.disabled = true;
            submitAnswerBtn.disabled = true;
        }

        function goToNextQuestion() {
            const gameRef = database.ref('games/' + gameId);
            gameRef.update({
                currentQuestion: currentQuestionIndex + 1,
                player1: { answer: '', answered: false },
                player2: { answer: '', answered: false },
                scored: false
            });
        }

        // Game event listeners
        createGameBtn.addEventListener('click', createNewGame);
        joinGameBtn.addEventListener('click', joinExistingGame);
        submitAnswerBtn.addEventListener('click', submitAnswer);
        nextQuestionBtn.addEventListener('click', goToNextQuestion);
        playerAnswerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') submitAnswer();
        });

        // Initially hide the countup overlay and main content
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('countupOverlay').style.display = 'none';
            document.getElementById('mainContent').style.display = 'none';
        });
    </script>
</body>
</html>
